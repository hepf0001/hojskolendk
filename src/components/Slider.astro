---
import { Image } from "astro:assets";
import card1 from "../assets/images/card1.webp";
import card2 from "../assets/images/card2.webp";
import card3 from "../assets/images/card3.webp";
import card4 from "../assets/images/card4.webp";
import card5 from "../assets/images/card5.webp";
---

<section id="slider">
  <input type="radio" name="slider" id="s1" checked />
  <input type="radio" name="slider" id="s2" />
  <input type="radio" name="slider" id="s3" />
  <input type="radio" name="slider" id="s4" />
  <input type="radio" name="slider" id="s5" />

  <!-- Replace the number labels with image-based labels -->
  <label for="s1" id="slide1">
    <Image src={card1} alt="Slide 1" />
  </label>
  <label for="s2" id="slide2">
    <Image src={card2} alt="Slide 2" />
  </label>
  <label for="s3" id="slide3">
    <Image src={card3} alt="Slide 3" />
  </label>
  <label for="s4" id="slide4">
    <Image src={card4} alt="Slide 4" />
  </label>
  <label for="s5" id="slide5">
    <Image src={card5} alt="Slide 5" />
  </label>
</section>

<a href="https://youtu.be/feVfzM--S3Y" target="self">
  <div class="youtube-link">Watch on YouTube</div>
</a>

<style>
  #slider {
    position: relative;
    width: 50%;
    height: 30vw;
    margin: 80px auto;
    perspective: 1400px;
    transform-style: preserve-3d;
  }

  input[type="radio"] {
    position: relative;
    top: 108%;
    left: 50%;
    width: 18px;
    height: 18px;
    margin: 0 15px 0 0;
    opacity: 0.4;
    transform: translateX(-83px);
    cursor: pointer;
  }

  input[type="radio"]:nth-child(5) {
    margin-right: 0px;
  }

  input[type="radio"]:checked {
    opacity: 1;
  }

  #slider label {
    position: absolute;
    width: 100%;
    height: 100%;
    left: 0;
    top: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: transform 400ms ease;
  }

  #slider label img {
    width: 100%; /* 이미지를 라벨 크기에 맞게 채움 */
    height: 100%; /* 이미지를 라벨 크기에 맞게 채움 */
    object-fit: cover; /* 이미지가 영역을 완전히 덮도록 설정 */
  }

  #slide1,
  #slide2,
  #slide3,
  #slide4,
  #slide5 {
    display: block;
    width: 100%;
    height: 100%;
  }

  #slide1 {
    background-color: #eee; /* Fallback color */
  }

  #slide2 {
    background-color: #eee; /* Fallback color */
  }

  #slide3 {
    background-color: #eee; /* Fallback color */
  }

  #slide4 {
    background-color: #eee; /* Fallback color */
  }

  #slide5 {
    background-color: #eee; /* Fallback color */
  }

  /* Slider Functionality */

  /* Active Slide */
  #s1:checked ~ #slide1,
  #s2:checked ~ #slide2,
  #s3:checked ~ #slide3,
  #s4:checked ~ #slide4,
  #s5:checked ~ #slide5 {
    box-shadow:
      0 13px 26px rgba(0, 0, 0, 0.3),
      0 12px 6px rgba(0, 0, 0, 0.2);
    transform: translate3d(0%, 0, 0px);
  }

  /* Next Slide */
  #s1:checked ~ #slide2,
  #s2:checked ~ #slide3,
  #s3:checked ~ #slide4,
  #s4:checked ~ #slide5,
  #s5:checked ~ #slide1 {
    box-shadow:
      0 6px 10px rgba(0, 0, 0, 0.3),
      0 2px 2px rgba(0, 0, 0, 0.2);
    transform: translate3d(15%, 0, -100px);
  }

  /* Next to Next Slide */
  #s1:checked ~ #slide3,
  #s2:checked ~ #slide4,
  #s3:checked ~ #slide5,
  #s4:checked ~ #slide1,
  #s5:checked ~ #slide2 {
    box-shadow: 0 1px 4px rgba(0, 0, 0, 0.4);
    transform: translate3d(30%, 0, -250px);
  }

  /* Previous to Previous Slide */
  #s1:checked ~ #slide4,
  #s2:checked ~ #slide5,
  #s3:checked ~ #slide1,
  #s4:checked ~ #slide2,
  #s5:checked ~ #slide3 {
    box-shadow: 0 1px 4px rgba(0, 0, 0, 0.4);
    transform: translate3d(-30%, 0, -250px);
  }

  /* Previous Slide */
  #s1:checked ~ #slide5,
  #s2:checked ~ #slide1,
  #s3:checked ~ #slide2,
  #s4:checked ~ #slide3,
  #s5:checked ~ #slide4 {
    box-shadow:
      0 6px 10px rgba(0, 0, 0, 0.3),
      0 2px 2px rgba(0, 0, 0, 0.2);
    transform: translate3d(-15%, 0, -100px);
  }

  /* YouTube Link */
  .youtube-link {
    position: absolute;
    bottom: 50px;
    width: 150px;
    left: 50%;
    margin-left: -75px;
    padding: 5px;
    font-weight: 700;
    color: coral;
    background: navy;
    text-align: center;
    border-radius: 0.2em;
  }
</style>

<script>
  const radioButtons = document.querySelectorAll("input[type=radio]");

  const slideShow = () => {
    for (let i = 0; i < radioButtons.length; i++) {
      setInterval(() => {
        console.log(i);
      }, 3000);
    }
  };

  slideShow();

  console.log("Hello");
</script>
